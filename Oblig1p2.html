<html>
    <head>
        <title>Title of titles</title>
        <link rel="stylesheet" href="Oblig1_Style.css">
    </head>
    <body>
        <style>
            #postContainer{
                display: grid;
                grid-template: "one two three";
                grid-template-columns: 25% 25% 25%;
                justify-content: center;
                min-height: 1000px;
            }
            #one{
                grid-area: one;
                width: 100%;
                height: auto;
                border: 1px solid black;
            }
            #two{
                grid-area: two;
                width: 100%;
                height: auto;
                border: 1px solid black;

            }
            #three{
                grid-area: three;
                width: 100%;
                height: auto;
                border: 1px solid black;
            }
        </style>
        <header>
            <h2>Header Logo</h2><br>
            <a href="Oblig1.html">Page 1</a>
            <a href="Oblig1p2.html">Page 2</a>
            <a href="Oblig1p3.html">Page 3</a>
            <hr>
            <div class="header_container">
                <div class="one">
                    <h1>This Website is awesome</h1>
                    <p>Lorem ipsum odor amet, consectetuer adipiscing elit. 
                        Urna conubia consequat sem aliquam eu efficitur 
                        est?</p>
                    <button id="signUp">Sign up</button>
                </div>
                <div class="two">Img placeholder</div>
            </div>
        </header>

    <div class="page">
        <div id="postContainer">
            <div id="one"></div>
            <div id="two"></div>
            <div id="three"></div>
        </div>
    </div>
        <footer>
            <p>Copyright @</p>
        </footer>
        <script>
            const one = document.getElementById("one");
            const two = document.getElementById("two");
            const three = document.getElementById("three");
            let postIndex = 0;
            function load(){
                fetch("https://jsonplaceholder.typicode.com/posts")
                    .then((response) => {
                        if (!response.ok){
                            throw new Error("Error with the status " + response.status);
                            
                        }
                        return response.json();
                    }).then((posts) => {
                        if(postIndex < 100){
                            console.log(posts);
                            for (i=0; i<3; i++){
                                const tittel1 = document.createElement("h4");
                                tittel1.innerText = posts[postIndex].title;
                                one.appendChild(tittel1);
                                const text1 = document.createElement("p");
                                text1.innerText = posts[postIndex].body;
                                one.appendChild(text1);
                                const hr = document.createElement("hr");
                                hr.style.borderColor = "black";
                                one.appendChild(hr);
                                postIndex++

                                const tittel2 = document.createElement("h4");
                                tittel2.innerText = posts[postIndex].title;
                                two.appendChild(tittel2);
                                const text2 = document.createElement("p");
                                text2.innerText = posts[postIndex].body;
                                two.appendChild(text2);
                                const hr2 = document.createElement("hr");
                                hr2.style.borderColor = "black";
                                two.appendChild(hr2);
                                postIndex++

                                const tittel3 = document.createElement("h4");
                                tittel3.innerText = posts[postIndex].title;
                                three.appendChild(tittel3);
                                const text3 = document.createElement("p");
                                text3.innerText = posts[postIndex].body;
                                three.appendChild(text3);
                                const hr3 = document.createElement("hr");
                                hr3.style.borderColor = "black";
                                three.appendChild(hr3);
                                postIndex++
                            }
                        }
                    })
            }
            function bottomPage(){
                const endOfPage = window.innerHeight + window.pageYOffset >= 
                document.body.offsetHeight - 50;

                if(endOfPage){
                    load();
                    console.log(postIndex);
                }
            }
            
            load();
            load();
            window.addEventListener("scroll", bottomPage);
        </script>
    </body>
</html>